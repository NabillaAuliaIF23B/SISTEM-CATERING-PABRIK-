"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3884],{3884:(_,m,s)=>{s.r(m),s.d(m,{InputJadwalPageModule:()=>v});var f=s(2881),u=s(4341),e=s(9420),h=s(5207),p=s(467),n=s(1360),w=s(4796);function b(t,i){if(1&t&&(n.j41(0,"ion-select-option",15),n.EFF(1),n.k0s()),2&t){const d=i.$implicit;n.Y8G("value",d.id_karyawan),n.R7$(),n.SpI(" ",d.nama," ")}}const y=[{path:"",component:(()=>{var t;class i{constructor(a,r){this.toastController=a,this.authService=r,this.karyawans=[],this.id_karyawan=[],this.tanggal="",this.shift=""}ngOnInit(){this.authService.getKaryawans().subscribe({next:a=>{this.karyawans=a},error:a=>{console.error("Gagal ambil data karyawan",a)}})}submitJadwal(){var a=this;return(0,p.A)(function*(){if(!a.id_karyawan||0===a.id_karyawan.length)return void(yield a.toastController.create({message:"Pilih minimal satu karyawan",duration:2e3,color:"warning"})).present();if(!a.tanggal)return void(yield a.toastController.create({message:"Tanggal wajib diisi",duration:2e3,color:"warning"})).present();if(!a.shift)return void(yield a.toastController.create({message:"Shift wajib dipilih",duration:2e3,color:"warning"})).present();const r=new Date(a.tanggal).toISOString().slice(0,10);var l;a.authService.createJadwalShift({id_karyawan:a.id_karyawan,tanggal:r,shift:a.shift}).subscribe({next:(l=(0,p.A)(function*(o){(yield a.toastController.create({message:"Jadwal shift berhasil disimpan",duration:2e3,color:"success"})).present(),a.id_karyawan=[],a.tanggal="",a.shift=""}),function(c){return l.apply(this,arguments)}),error:function(){var l=(0,p.A)(function*(o){var c;(yield a.toastController.create({message:"Gagal simpan jadwal: "+((null===(c=o.error)||void 0===c?void 0:c.message)||"Error"),duration:3e3,color:"danger"})).present()});return function(c){return l.apply(this,arguments)}}()})})()}}return(t=i).\u0275fac=function(a){return new(a||t)(n.rXU(e.K_),n.rXU(w.u))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-input-jadwal"]],standalone:!1,decls:31,vars:5,consts:[["jadwalForm","ngForm"],["slot","start"],["defaultHref","/dashboard-hrga"],[1,"ion-padding"],[3,"ngSubmit"],["name","id_karyawan","interface","popover","multiple","true","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["position","floating"],["displayFormat","YYYY-MM-DD","name","tanggal","required","",3,"ngModelChange","ngModel"],[1,"shift-item"],["name","shift","interface","popover","required","",3,"ngModelChange","ngModel"],["value","shift_1"],["value","shift_2"],["value","shift_3"],["expand","block","type","submit","fill","outline","color","primary",1,"btn-hover",3,"disabled"],[3,"value"]],template:function(a,r){if(1&a){const g=n.RV6();n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),n.nrm(3,"ion-back-button",2),n.k0s(),n.j41(4,"ion-title"),n.EFF(5,"Input Jadwal Shift"),n.k0s()()(),n.j41(6,"ion-content",3)(7,"form",4,0),n.bIt("ngSubmit",function(){return n.eBV(g),n.Njj(r.submitJadwal())}),n.j41(9,"ion-item")(10,"ion-label"),n.EFF(11,"Nama Karyawan"),n.k0s(),n.j41(12,"ion-select",5),n.mxI("ngModelChange",function(o){return n.eBV(g),n.DH7(r.id_karyawan,o)||(r.id_karyawan=o),n.Njj(o)}),n.DNE(13,b,2,2,"ion-select-option",6),n.k0s()(),n.j41(14,"ion-item")(15,"ion-label",7),n.EFF(16,"Tanggal"),n.k0s(),n.nrm(17,"br"),n.j41(18,"ion-datetime",8),n.mxI("ngModelChange",function(o){return n.eBV(g),n.DH7(r.tanggal,o)||(r.tanggal=o),n.Njj(o)}),n.k0s()(),n.j41(19,"ion-item",9)(20,"ion-label"),n.EFF(21,"Shift"),n.k0s(),n.j41(22,"ion-select",10),n.mxI("ngModelChange",function(o){return n.eBV(g),n.DH7(r.shift,o)||(r.shift=o),n.Njj(o)}),n.j41(23,"ion-select-option",11),n.EFF(24,"Shift 1"),n.k0s(),n.j41(25,"ion-select-option",12),n.EFF(26,"Shift 2"),n.k0s(),n.j41(27,"ion-select-option",13),n.EFF(28,"Shift 3"),n.k0s()()(),n.j41(29,"ion-button",14),n.EFF(30,"Simpan Jadwal "),n.k0s()()()}if(2&a){const g=n.sdS(8);n.R7$(12),n.R50("ngModel",r.id_karyawan),n.R7$(),n.Y8G("ngForOf",r.karyawans),n.R7$(5),n.R50("ngModel",r.tanggal),n.R7$(4),n.R50("ngModel",r.shift),n.R7$(7),n.Y8G("disabled",!g.form.valid)}},dependencies:[f.Sq,u.qT,u.BC,u.cb,u.YS,u.vS,u.cV,e.Jm,e.QW,e.W9,e.A9,e.eU,e.uz,e.he,e.Nm,e.Ip,e.BC,e.ai,e.Je,e.el],styles:["ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-footer[_ngcontent-%COMP%]{box-shadow:none!important;border:none!important;--border-width: 0 !important;--border-color: transparent !important}ion-content[_ngcontent-%COMP%]{--background: #ffffff;padding:16px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}ion-item[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:10px;background:#fff}ion-button[_ngcontent-%COMP%]{margin-top:20px}ion-title[_ngcontent-%COMP%]{font-weight:700}.btn-hover[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-color-primary);--border-color: var(--ion-color-primary);--border-width: 2px;transition:background .3s,color .3s}@media (hover: hover){.btn-hover[_ngcontent-%COMP%]:hover{--background: var(--ion-color-primary);--color: white}}ion-button.btn-hover[_ngcontent-%COMP%]:not([disabled]):hover{--background: var(--ion-color-primary);--color: white}"]}),i})()}];let M=(()=>{var t;class i{}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[h.iI.forChild(y),h.iI]}),i})(),v=(()=>{var t;class i{}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[f.MD,u.YN,e.bv,M]}),i})()}}]);